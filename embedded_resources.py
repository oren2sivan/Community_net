
import os
import base64

def extract_config_files():
    """Extract the embedded batch files to the config directory"""
    # Create config directory if it doesn't exist
    current_dir = os.path.dirname(os.path.abspath(__file__))
    config_dir = os.path.join(current_dir, 'config')
    if not os.path.exists(config_dir):
        os.makedirs(config_dir)
    
    # Write dependencies batch file
    dependencies_path = os.path.join(config_dir, 'dependencies-1.bat')
    with open(dependencies_path, 'wb') as f:
        f.write(base64.b64decode('QGVjaG8gb2ZmCnNldGxvY2FsIGVuYWJsZWRlbGF5ZWRleHBhbnNpb24KUkVNIFNldCB3b3JraW5nIGRpcmVjdG9yeQpzZXQgIldPUktfRElSPSVVU0VSUFJPRklMRSVcaXBmc19zZXR1cCIKClJFTSBDbGVhbiB1cCBwcmV2aW91cyBzZXR1cCBpZiBleGlzdHMKaWYgZXhpc3QgIiVXT1JLX0RJUiUiICgKICAgIGVjaG8gUmVtb3ZpbmcgZXhpc3Rpbmcgc2V0dXAgZGlyZWN0b3J5Li4uCiAgICBybWRpciAvcyAvcSAiJVdPUktfRElSJSIKKQoKUkVNIENyZWF0ZSBhIGZyZXNoIHdvcmtpbmcgZGlyZWN0b3J5CmVjaG8gQ3JlYXRpbmcgd29ya2luZyBkaXJlY3RvcnkuLi4KbWtkaXIgIiVXT1JLX0RJUiUiCmNkICIlV09SS19ESVIlIgoKUkVNIERlZmluZSBVUkxzIGZvciBLdWJvCnNldCAiS1VCT19VUkw9aHR0cHM6Ly9kaXN0LmlwZnMudGVjaC9rdWJvL3YwLjMyLjEva3Vib192MC4zMi4xX3dpbmRvd3MtYW1kNjQuemlwIgoKUkVNIERvd25sb2FkIEt1Ym8KZWNobyBEb3dubG9hZGluZyBLdWJvLi4uCmN1cmwgLUwgIiVLVUJPX1VSTCUiIC1vICJrdWJvLnppcCIKaWYgbm90IGV4aXN0ICJrdWJvLnppcCIgKAogICAgZWNobyBGYWlsZWQgdG8gZG93bmxvYWQgS3Viby4gRXhpdGluZy4KICAgIGV4aXQgL2IKKQoKUkVNIFJlbW92ZSBleGlzdGluZyBJUEZTIGNvbmZpZ3VyYXRpb24gZGlyZWN0b3J5CmVjaG8gQ2xlYW5pbmcgdXAgZXhpc3RpbmcgSVBGUyBjb25maWd1cmF0aW9uLi4uCmlmIGV4aXN0ICIlVVNFUlBST0ZJTEUlXC5pcGZzIiAoCiAgICBybWRpciAvcyAvcSAiJVVTRVJQUk9GSUxFJVwuaXBmcyIKKQoKUkVNIEV4dHJhY3QgS3VibyB1c2luZyB0YXIKZWNobyBFeHRyYWN0aW5nIEt1Ym8uLi4KdGFyIC14dmYgImt1Ym8uemlwIiAtQyAiJVdPUktfRElSJSIKaWYgZXJyb3JsZXZlbCAxICgKICAgIGVjaG8gRXh0cmFjdGlvbiBmYWlsZWQuIEVuc3VyZSB0YXIgaXMgaW5zdGFsbGVkIGFuZCBhdmFpbGFibGUgaW4gUEFUSC4gRXhpdGluZy4KICAgIGV4aXQgL2IKKQoKUkVNIExvY2F0ZSB0aGUgS3VibyBkaXJlY3RvcnkgKGFzc3VtaW5nIGl0J3MgbmFtZWQgImt1Ym8iIGluIHRoZSB6aXApCnNldCAiS1VCT19ESVI9JVdPUktfRElSJVxrdWJvIgoKUkVNIFZlcmlmeSB0aGUgZXhpc3RlbmNlIG9mIElQRlMgYmluYXJ5CmlmIG5vdCBleGlzdCAiJUtVQk9fRElSJVxpcGZzLmV4ZSIgKAogICAgZWNobyBJUEZTIGJpbmFyeSBub3QgZm91bmQgaW4gJUtVQk9fRElSJS4gRXhpdGluZy4KICAgIGV4aXQgL2IKKQoKUkVNIEFkZCBLdWJvIGRpcmVjdG9yeSB0byBQQVRICnNldCBQQVRIPSVLVUJPX0RJUiU7JVBBVEglCmVjaG8gQWRkZWQgS3VibyB0byBQQVRILgoKUkVNIFZlcmlmeSBJUEZTIGluc3RhbGxhdGlvbgplY2hvIFZlcmlmeWluZyBJUEZTIGluc3RhbGxhdGlvbi4uLgppcGZzIC0tdmVyc2lvbgppZiBlcnJvcmxldmVsIDEgKAogICAgZWNobyBJUEZTIGNvbW1hbmQgbm90IHJlY29nbml6ZWQuIEV4aXRpbmcuCiAgICBleGl0IC9iCikKClJFTSBJbml0aWFsaXplIElQRlMKZWNobyBJbml0aWFsaXppbmcgSVBGUy4uLgppcGZzIGluaXQKaWYgZXJyb3JsZXZlbCAxICgKICAgIGVjaG8gSVBGUyBpbml0aWFsaXphdGlvbiBmYWlsZWQuIEV4aXRpbmcuCiAgICBleGl0IC9iCik='))
    
    # Write IPFS config batch file
    ipfs_config_path = os.path.join(config_dir, 'ipfs_config.bat')
    with open(ipfs_config_path, 'wb') as f:
        f.write(base64.b64decode('QGVjaG8gb2ZmCnNldGxvY2FsIEVuYWJsZURlbGF5ZWRFeHBhbnNpb24KClJFTSBTZXQgcGF0aHMgZm9yIElQRlMKc2V0ICJJUEZTX1BBVEg9JVVTRVJQUk9GSUxFJVwuaXBmcyIKc2V0ICJLVUJPX1BBVEg9JVVTRVJQUk9GSUxFJVxpcGZzX3NldHVwXGt1Ym8iCgpSRU0gQWRkIEt1Ym8gZGlyZWN0b3J5IHRvIFBBVEgKc2V0ICJQQVRIPSVQQVRIJTslS1VCT19QQVRIJSIKClJFTSBWZXJpZnkgSVBGUyBpcyBhY2Nlc3NpYmxlCndoZXJlIGlwZnMgPm51bCAyPm51bAppZiBlcnJvcmxldmVsIDEgKAogICAgZWNobyBJUEZTIG5vdCBmb3VuZCBpbiBQQVRILiBDaGVja2luZyB1c2VyIHByb2ZpbGUuLi4KICAgIGlmIGV4aXN0ICIlS1VCT19QQVRIJVxpcGZzLmV4ZSIgKAogICAgICAgIHNldCAiUEFUSD0lUEFUSCU7JUtVQk9fUEFUSCUiCiAgICAgICAgZWNobyBGb3VuZCBJUEZTIGluICVLVUJPX1BBVEglCiAgICApIGVsc2UgKAogICAgICAgIGVjaG8gRXJyb3I6IENhbm5vdCBmaW5kIGlwZnMuZXhlIGluICVLVUJPX1BBVEglCiAgICAgICAgcGF1c2UKICAgICAgICBleGl0IC9iIDEKICAgICkKKQoKUkVNIE1vZGlmeSBJUEZTIGNvbmZpZ3VyYXRpb24gZm9yIHByaXZhdGUgbmV0d29yawplY2hvIENvbmZpZ3VyaW5nIElQRlMgZm9yIHByaXZhdGUgbmV0d29yay4uLgoKUkVNIFJlbW92ZSBkZWZhdWx0IGJvb3RzdHJhcCBwZWVycwpjYWxsICIlS1VCT19QQVRIJVxpcGZzLmV4ZSIgYm9vdHN0cmFwIHJtIC0tYWxsCgpSRU0gU2V0IFJvdXRpbmcgVHlwZSB0byBESFQKY2FsbCAiJUtVQk9fUEFUSCVcaXBmcy5leGUiIGNvbmZpZyBSb3V0aW5nLlR5cGUgZGh0CgpSRU0gRGlzYWJsZSBwdWJsaWMgZ2F0ZXdheXMKY2FsbCAiJUtVQk9fUEFUSCVcaXBmcy5leGUiIGNvbmZpZyAtLWpzb24gR2F0ZXdheS5QdWJsaWNHYXRld2F5cyAibnVsbCIKClJFTSBDb25maWd1cmUgU3dhcm0gQWRkcmVzc2VzICh3aXRoIGVzY2FwZWQgcXVvdGVzKQpjYWxsICIlS1VCT19QQVRIJVxpcGZzLmV4ZSIgY29uZmlnIC0tanNvbiBBZGRyZXNzZXMuU3dhcm0gIlteIi9pcDQvMC4wLjAuMC90Y3AvNDAwMV4iLCBeIi9pcDYvOjovdGNwLzQwMDFeIl0iCgpSRU0gRGlzYWJsZSBNRE5TIGRpc2NvdmVyeQpjYWxsICIlS1VCT19QQVRIJVxpcGZzLmV4ZSIgY29uZmlnIC0tanNvbiBEaXNjb3ZlcnkuTUROUy5FbmFibGVkIGZhbHNlCgpSRU0gRGlzYWJsZSBQdWJsaWMgREhUCmNhbGwgIiVLVUJPX1BBVEglXGlwZnMuZXhlIiBjb25maWcgLS1qc29uIERpc2NvdmVyeS5QdWJsaWNESFQgZmFsc2UKClJFTSBGb3JjZSBwcml2YXRlIG5ldHdvcmtpbmcKc2V0eCBMSUJQMlBfRk9SQ0VfUE5FVCAxCgpSRU0gVmVyaWZ5IGNvbmZpZ3VyYXRpb24KZWNobyBWZXJpZnlpbmcgSVBGUyBjb25maWd1cmF0aW9uLi4uCgpSRU0gR2V0IGFuZCBkaXNwbGF5IFBlZXIgSUQKZWNobyBHZXR0aW5nIFBlZXIgSUQuLi4KY2FsbCAiJUtVQk9fUEFUSCVcaXBmcy5leGUiIGlkCgpSRU0gU3RhcnQgSVBGUyBkYWVtb24KZWNobyBTdGFydGluZyBJUEZTIGRhZW1vbi4uLgpzdGFydCAvQiBjbWQgL2MgIiVLVUJPX1BBVEglXGlwZnMuZXhlIiBkYWVtb24KCmVjaG8gUHJpdmF0ZSBJUEZTIG5ldHdvcmsgc2V0dXAgY29tcGxldGUuCnBhdXNl'))
    
    return config_dir
